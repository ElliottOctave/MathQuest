<!-- /games/addition.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Addition Adventure</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../styles/mathQuest.css">
  <link rel="stylesheet" href="../styles/games/addition.css">
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container py-5" style="background-color: #fdf6e3; border-radius: 16px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative;">

    <!-- Story Section -->
    <div class="text-center mb-4 p-4 rounded" style="background-color: #fff6d5;">
      <img src="../assets/addition/fox.png" alt="Foxy" width="100" class="mb-3">
    
      <h1 style="
        font-family: 'Luckiest Guy', cursive;
        font-size: 3rem;
        color: #ff6b6b;
        text-shadow: 2px 2px #ffe066;
      ">
        ğŸ Foxyâ€™s Fruit Feast ğŸ“
      </h1>
    
      <p id="storyText" style="
        font-size: 1.4rem;
        color: #333;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.8;
      ">
        Foxy the Fox is getting ready for a big forest feast!<br>
        He found some <strong style="color: #d32f2f;">apples</strong> and <strong style="color: #512da8;">berries</strong>,<br>
        but he needs your help to count how many heâ€™ll eat.<br><br>
        Letâ€™s help Foxy add them up so he can enjoy his snack!
      </p>
    
      <!-- Read-aloud speaker icon (top-right corner) -->
      <button onclick="readStory()" style="
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 20px;
      background: none;
      border: none;
      ">
      ğŸ”Š
      </button>

    </div>
    
    <!-- Difficulty selector -->
    <div class="text-center mb-4">
      <label for="difficultySelect" class="form-label">Choose Difficulty:</label>
      <select id="difficultySelect" class="form-select w-50 mx-auto" onchange="changeDifficulty()">
        <option value="1">Easy (max sum 5)</option>
        <option value="2">Medium (max sum 10)</option>
        <option value="3">Hard (max sum 20)</option>
      </select>
    </div>
  
    <!-- Visual fruits -->
    <div class="d-flex justify-content-center align-items-center my-3">
      <div id="visual-num1" class="mx-3"></div>
      <div style="font-size: 2rem;">+</div>
      <div id="visual-num2" class="mx-3"></div>
    </div>
  
    <!-- Answer -->
    <div class="text-center">
      <input type="number" id="answer" class="form-control w-50 mx-auto mb-2" placeholder="Your answer" />
      <button class="btn btn-success" onclick="submitAnswer()">Feed Foxy</button>
      <div id="feedback" class="mt-3"></div>
    </div>
  
    <!-- Progress -->
    <div class="mt-5">
      <p class="text-center">Help Foxy get full!</p>
      <div class="d-flex align-items-center justify-content-center gap-2">
        <img id="character" src="../assets/addition/fox.png" alt="character" style="width: 60px;">
        <div class="progress w-50">
          <div class="progress-bar bg-success" role="progressbar" id="progressBar" style="width: 0%"></div>
        </div>
      </div>
    </div>
  </div>  

  <!-- WINNING MODAL -->
  <div class="modal fade" id="winModal" tabindex="-1" aria-labelledby="winModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content text-center p-4" style="border-radius: 20px;">
        <div class="modal-body">
          <img src="../assets/addition/fox.png" alt="Foxy" width="100" class="mb-3">
          <h2 class="mb-3 text-success">ğŸ‰ You did it!</h2>
          <p class="lead">You helped Foxy eat all his apples and berries!</p>
          <button class="btn btn-primary mt-3" onclick="restartGame()" data-bs-dismiss="modal">Try Again</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../scripts/games/addition.js"></script>
</body>
</html>